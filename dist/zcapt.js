!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){var o=n(1);e.loading={start:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=document.createElement("div");e.id="zcapt-loadingLayer",e.className="zcapt-loading",e.innerHTML="<div></div><div></div>",o.appear(e,t),document.getElementById("zcapt-frame").appendChild(e),setTimeout(function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.id="zcapt-largeRefresh",t.innerHTML='<path class="zcapt-largeRefresh-fill" d="M427.408,19.697c-7.803-3.23-14.463-1.902-19.986,3.999l-37.116,36.834C349.94,41.305,326.672,26.412,300.5,15.848C274.328,5.285,247.251,0.003,219.271,0.003c-29.692,0-58.052,5.808-85.08,17.417c-27.03,11.61-50.347,27.215-69.951,46.82c-19.605,19.607-35.214,42.921-46.824,69.949C5.807,161.219,0,189.575,0,219.271c0,29.687,5.807,58.05,17.417,85.079c11.613,27.031,27.218,50.347,46.824,69.952c19.604,19.599,42.921,35.207,69.951,46.818c27.028,11.611,55.388,17.419,85.08,17.419c32.736,0,63.865-6.899,93.363-20.7c29.5-13.795,54.625-33.26,75.377-58.386c1.52-1.903,2.234-4.045,2.136-6.424c-0.089-2.378-0.999-4.329-2.711-5.852l-39.108-39.399c-2.101-1.711-4.473-2.566-7.139-2.566c-3.045,0.38-5.232,1.526-6.566,3.429c-13.895,18.086-30.93,32.072-51.107,41.977c-20.173,9.894-41.586,14.839-64.237,14.839c-19.792,0-38.684-3.854-56.671-11.564c-17.989-7.706-33.551-18.127-46.682-31.261c-13.13-13.135-23.551-28.691-31.261-46.682c-7.708-17.987-11.563-36.874-11.563-56.671c0-19.795,3.858-38.691,11.563-56.674c7.707-17.985,18.127-33.547,31.261-46.678c13.135-13.134,28.693-23.555,46.682-31.265c17.983-7.707,36.879-11.563,56.671-11.563c38.259,0,71.475,13.039,99.646,39.116l-39.409,39.394c-5.903,5.711-7.231,12.279-4.001,19.701c3.241,7.614,8.856,11.42,16.854,11.42h127.906c4.949,0,9.23-1.807,12.848-5.424c3.613-3.616,5.42-7.898,5.42-12.847V36.55C438.542,28.558,434.84,22.943,427.408,19.697z"/>',t.setAttribute("viewBox","0 0 438.542 438.542"),t.setAttribute("xml:space","preserve"),t.onclick=function(){n(2).everything()},e.innerHTML="",e.appendChild(t),e.classList.remove("zcapt-loading"),e.classList.add("zcapt-largeRefresh")},2e4)},end:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};o.disappear(document.getElementById("zcapt-loadingLayer"),t)}}},function(t,e){e.disappear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};function n(){t.classList.add("zcapt-disappear"),t.addEventListener("animationend",function(){t.parentNode.removeChild(t),e()})}t.classList.contains("zcapt-appear")?t.addEventListener("animationend",n()):n()},e.appear=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.classList.contains("zcapt-disappear")?e():(t.classList.add("zcapt-appear"),t.addEventListener("animationend",function(){t.classList.remove("zcapt-appear"),e()}))}},function(t,e,n){var o=n(1);e.everything=function(){o.disappear(document.getElementById("zcapt-frame"),function(){n(4).init(window.zcapt.data.id,window.zcapt.data.conn,window.zcapt.data.size)})},e.captcha=function(){n(15).renewCaptcha()}},function(t,e){e.move=function(t,e,n){var o=t.offsetLeft,a=t.offsetTop,i=0,r=0;if(o<e){i=e-o;window.requestAnimationFrame(function e(){t.style.left=t.offsetLeft+i/5+"px",(i-=i/5)>0&&window.requestAnimationFrame(e)})}else{i=o-e;window.requestAnimationFrame(function e(){t.style.left=t.offsetLeft-i/5+"px",(i-=i/5)>0&&window.requestAnimationFrame(e)})}if(a<n){r=n-a;window.requestAnimationFrame(function e(){t.style.top=t.offsetTop+r/5+"px",(r-=r/5)>0&&window.requestAnimationFrame(e)})}else{r=a-n;window.requestAnimationFrame(function e(){t.style.top=t.offsetTop-r/5+"px",(r-=r/5)>0&&window.requestAnimationFrame(e)})}}},function(t,e,n){var o=n(13).Base64;e.init=function(t,e,a){n(5).buildFrame(t,a);try{var i=JSON.parse(o.decode(e));window.zcapt.data.conn=e,window.zcapt.data.initialize=i.init,window.zcapt.data.largePicture=i.large,window.zcapt.data.smallPicture=i.small,window.zcapt.data.verify=i.veri,window.zcapt.data.id=t,window.zcapt.data.size=a,window.zcapt.data.result=0}catch(t){return console.log("Conn is incorrect"),null}n(6).init(window.zcapt.data.initialize,function(t){if(null===t)return console.log("Error when requesting to server"),null;window.zcapt.data.authID=t,n(7).building()})}},function(t,e,n){e.buildFrame=function(t,e){var o=document.createElement("div");o.classList.add("zcapt-frame"),o.id="zcapt-frame",o.style.height=2/3*e+"px",o.setAttribute("unselectable","on"),o.style.width=e+"px",o.onselectstart=function(){return!1},document.getElementById(t).appendChild(o),n(0).loading.start()},e.buildCaptcha=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=n(1),i=0,r=new Image;r.classList.add("zcapt-smallPic"),a.appear(r),r.id="zcapt-smallPic",r.draggable=!1,r.src=t,r.setAttribute("unselectable","on"),r.onload=l;var c=new Image;c.classList.add("zcapt-largePic"),a.appear(c),c.draggable=!1,c.id="zcapt-largePic",c.setAttribute("unselectable","on"),c.src=e,c.onload=l;var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.id="zcapt-refresh",a.appear(u),u.setAttribute("viewBox","0 0 438.542 438.542"),u.setAttribute("xml:space","preserve"),u.innerHTML='<path class="zcapt-refresh-fill" d="M427.408,19.697c-7.803-3.23-14.463-1.902-19.986,3.999l-37.116,36.834C349.94,41.305,326.672,26.412,300.5,15.848C274.328,5.285,247.251,0.003,219.271,0.003c-29.692,0-58.052,5.808-85.08,17.417c-27.03,11.61-50.347,27.215-69.951,46.82c-19.605,19.607-35.214,42.921-46.824,69.949C5.807,161.219,0,189.575,0,219.271c0,29.687,5.807,58.05,17.417,85.079c11.613,27.031,27.218,50.347,46.824,69.952c19.604,19.599,42.921,35.207,69.951,46.818c27.028,11.611,55.388,17.419,85.08,17.419c32.736,0,63.865-6.899,93.363-20.7c29.5-13.795,54.625-33.26,75.377-58.386c1.52-1.903,2.234-4.045,2.136-6.424c-0.089-2.378-0.999-4.329-2.711-5.852l-39.108-39.399c-2.101-1.711-4.473-2.566-7.139-2.566c-3.045,0.38-5.232,1.526-6.566,3.429c-13.895,18.086-30.93,32.072-51.107,41.977c-20.173,9.894-41.586,14.839-64.237,14.839c-19.792,0-38.684-3.854-56.671-11.564c-17.989-7.706-33.551-18.127-46.682-31.261c-13.13-13.135-23.551-28.691-31.261-46.682c-7.708-17.987-11.563-36.874-11.563-56.671c0-19.795,3.858-38.691,11.563-56.674c7.707-17.985,18.127-33.547,31.261-46.678c13.135-13.134,28.693-23.555,46.682-31.265c17.983-7.707,36.879-11.563,56.671-11.563c38.259,0,71.475,13.039,99.646,39.116l-39.409,39.394c-5.903,5.711-7.231,12.279-4.001,19.701c3.241,7.614,8.856,11.42,16.854,11.42h127.906c4.949,0,9.23-1.807,12.848-5.424c3.613-3.616,5.42-7.898,5.42-12.847V36.55C438.542,28.558,434.84,22.943,427.408,19.697z"/>',u.onclick=function(){n(2).everything()};var d=document.createDocumentFragment();function l(){0===i?i++:n(0).loading.end(function(){document.getElementById("zcapt-frame").appendChild(d),o(null)})}d.appendChild(r),d.appendChild(c),d.appendChild(u)}},function(t,e){e.init=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.send(),n.addEventListener("load",function(){if(200!==n.status)e(null);else{var t=null;try{t=JSON.parse(n.responseText)}catch(t){e(null)}void 0===t.status?e(null):0!=t.status?e(null):e(t.authID)}})}},function(t,e,n){e.building=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=window.zcapt.data.smallPicture+"?authID="+window.zcapt.data.authID,o=window.zcapt.data.largePicture+"?authID="+window.zcapt.data.authID;t?n(16).rebuild(e,o,function(){n(8).startMouseMonitor("zcapt-smallPic","zcapt-largePic")}):n(5).buildCaptcha(e,o,function(){n(8).startMouseMonitor("zcapt-smallPic","zcapt-largePic")})}},function(t,e,n){e.startMouseMonitor=function(t,e){n(17).startFingerMonitor(t,e);var o=document.getElementById(t),a=document.getElementById(e);o.onmousedown=function(t){window.zcapt.data.smallPictureInitialPositionX=o.offsetLeft,window.zcapt.data.smallPictureInitialPositionY=o.offsetTop;var e=t.clientX-o.offsetLeft,i=t.clientY-o.offsetTop;document.onmousemove=function(t){o.style.top=t.clientY-i+"px",o.style.left=t.clientX-e+"px"},document.onmouseup=function(t){document.onmousemove=null;var e=n(9).distance(a),i=Math.round(300*(o.offsetLeft-a.offsetLeft)/a.offsetWidth),r=Math.round(200*(o.offsetTop-a.offsetTop)/a.offsetHeight);t.clientY>e.top&&t.clientY<e.bottom&&t.clientX>e.left&&t.clientX<e.right?(n(0).loading.start(),o.onmousedown=null,n(10).verify(window.zcapt.data.verify,window.zcapt.data.authID,i,r,function(t){t?(window.zcapt.data.result=1,n(11).verified()):(n(3).move(o,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY),n(2).captcha())})):n(3).move(o,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY)}}}},function(t,e){e.distance=function(t){var e=t.getBoundingClientRect().top,n=t.getBoundingClientRect().left;return{top:e,left:n,right:n+t.offsetWidth,bottom:e+t.offsetHeight}}},function(t,e){e.verify=function(t,e,n,o,a){var i=new XMLHttpRequest,r=t+"?authID="+e+"&x="+n+"&y="+o;i.open("GET",r,!0),i.send(),i.addEventListener("load",function(){if(200!==i.status)a(!1);else{var t=!1;try{t=JSON.parse(i.responseText).status}catch(t){a(!1)}a(0==t)}})}},function(t,e,n){e.verified=function(){var t=document.getElementById("zcapt-frame"),e=document.createElement("div");e.id="zcapt-verified",e.classList.add("zcapt-verified");var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.innerHTML='<polygon class="zcapt-verified-fill" points="385.621,62.507 146.225,301.901 21.213,176.891 0,198.104 146.225,344.327 406.834,83.72 "/>',o.setAttribute("viewBox","0 0 406.834 406.834"),o.id="zcapt-verified-icon",n(1).appear(e),e.appendChild(o),t.appendChild(e),n(0).loading.end()}},function(t,e,n){window.zcapt={start:function(t){return void 0===t.id||void 0===t.conn||void 0===t.size?null:null===t.id||null===t.conn||null===t.size?null:void n(4).init(t.id,t.conn,t.size)},data:n(18),isVerified:function(){return void 0!==window.zcapt.data.result&&1===window.zcapt.data.result}}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(t,e){module.exports=e(t)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";var _Base64=global.Base64,version="2.5.0",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(t){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},n=0,o=t.length;n<o;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?"=":b64chars.charAt(n>>>6&63),e>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,o=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),a=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return a.length-=[0,0,2,1][n],a.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}})}).call(this,__webpack_require__(14))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){e.renewCaptcha=function(){n(6).init(window.zcapt.data.initialize,function(t){if(null===t)return console.log("Error when requesting to server"),null;window.zcapt.data.authID=t,n(7).building(!0)})}},function(t,e,n){e.rebuild=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=0,i=new Image;i.classList.add("zcapt-smallPic"),i.id="zcapt-smallPic",i.draggable=!1,i.src=t,i.setAttribute("unselectable","on"),i.onload=u;var r=new Image;r.classList.add("zcapt-largePic"),r.draggable=!1,r.id="zcapt-largePic",r.setAttribute("unselectable","on"),r.src=e,r.onload=u;var c=document.createDocumentFragment();function u(){if(0===a)a++;else{var t=document.getElementById("zcapt-frame");t.removeChild(document.getElementById("zcapt-largePic")),t.removeChild(document.getElementById("zcapt-smallPic")),t.appendChild(c),n(0).loading.end(function(){o(null)})}}c.appendChild(i),c.appendChild(r)}},function(t,e,n){e.startFingerMonitor=function(t,e){var o=document.getElementById(t),a=document.getElementById(e);o.ontouchstart=function(t){t.preventDefault(),window.zcapt.data.smallPictureInitialPositionX=o.offsetLeft,window.zcapt.data.smallPictureInitialPositionY=o.offsetTop;var e=t.touches[0].clientX-o.offsetLeft,i=t.touches[0].clientY-o.offsetTop;document.ontouchmove=function(t){o.style.top=t.touches[0].clientY-i+"px",o.style.left=t.touches[0].clientX-e+"px"},document.ontouchend=function(t){document.ontouchmove=null;var e=n(9).distance(a),i=Math.round(300*(o.offsetLeft-a.offsetLeft)/a.offsetWidth),r=Math.round(200*(o.offsetTop-a.offsetTop)/a.offsetHeight);t.changedTouches[0].clientY>e.top&&t.changedTouches[0].clientY<e.bottom&&t.changedTouches[0].clientX>e.left&&t.changedTouches[0].clientX<e.right?(n(0).loading.start(),o.ontouchstart=null,n(10).verify(window.zcapt.data.verify,window.zcapt.data.authID,i,r,function(t){t?(window.zcapt.data.result=1,n(11).verified()):(n(3).move(o,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY),n(2).captcha())})):n(3).move(o,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY)}}}},function(t,e){e.initialize="",e.largePicture="",e.smallPicture="",e.verify="",e.id="",e.size=0,e.authID="",e.smallPictureInitialPositionX=0,e.smallPictureInitialPositionY=0,e.isVerified=!1}]);
//# sourceMappingURL=zcapt.js.map